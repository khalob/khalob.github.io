function UnityProgress(s){this.progress=0,this.message="",this.dom=s;var e=s.parentNode,t=document.createElement("div");t.style.background="#4D4D4D",t.style.position="absolute",e.appendChild(t),this.background=t;var i=document.createElement("img");i.src="../../images/Unity/progresslogo.png",i.style.position="absolute",e.appendChild(i),this.logoImage=i;var o=document.createElement("img");o.src="../../images/Unity/loadingbar.png",o.style.position="absolute",e.appendChild(o),this.progressFrame=o;var r=document.createElement("img");r.src="../../images/Unity/fullbar.png",r.style.position="absolute",e.appendChild(r),this.progressBar=r;var h=document.createElement("p");h.style.position="absolute",e.appendChild(h),this.messageArea=h,this.SetProgress=function(s){this.progress<s&&(this.progress=s),this.messageArea.style.display="none",this.progressFrame.style.display="inline",this.progressBar.style.display="inline",this.Update()},this.SetMessage=function(s){this.message=s,this.background.style.display="inline",this.logoImage.style.display="inline",this.progressFrame.style.display="none",this.progressBar.style.display="none",this.Update()},this.Clear=function(){this.background.style.display="none",this.logoImage.style.display="none",this.progressFrame.style.display="none",this.progressBar.style.display="none"},this.Update=function(){this.background.style.top=this.dom.offsetTop+"px",this.background.style.left=this.dom.offsetLeft+"px",this.background.style.width=this.dom.offsetWidth+"px",this.background.style.height=this.dom.offsetHeight+"px";var s=new Image;s.src=this.logoImage.src;var e=new Image;e.src=this.progressFrame.src,this.logoImage.style.top=this.dom.offsetTop+(.5*this.dom.offsetHeight-.5*s.height)+"px",this.logoImage.style.left=this.dom.offsetLeft+(.5*this.dom.offsetWidth-.5*s.width)+"px",this.logoImage.style.width=s.width+"px",this.logoImage.style.height=s.height+"px",this.progressFrame.style.top=this.dom.offsetTop+(.5*this.dom.offsetHeight+.5*s.height+10)+"px",this.progressFrame.style.left=this.dom.offsetLeft+(.5*this.dom.offsetWidth-.5*e.width)+"px",this.progressFrame.width=e.width,this.progressFrame.height=e.height,this.progressBar.style.top=this.progressFrame.style.top,this.progressBar.style.left=this.progressFrame.style.left,this.progressBar.width=e.width*Math.min(this.progress,1),this.progressBar.height=e.height,this.messageArea.style.top=this.progressFrame.style.top,this.messageArea.style.left=0,this.messageArea.style.width="100%",this.messageArea.style.textAlign="center",this.messageArea.innerHTML=this.message},this.Update()}
