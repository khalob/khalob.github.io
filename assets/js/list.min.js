!function t(a,e,i){function n(r,o){if(!e[r]){if(!a[r]){var d="function"==typeof require&&require;if(!o&&d)return d(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var f=e[r]={exports:{}};a[r][0].call(f.exports,(function(t){return n(a[r][1][t]||t)}),f,f.exports,t,a,e,i)}return e[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,a,e){"use strict";var i=t("./login"),n=t("./search");function s(t){var a=$("#item-tags-input").val();t?a=t:a&&(a=a.trim()),a&&0===$('.item-tags span[data-value="'+a+'"]').length&&($(".item-tags").append('<span class="tag" data-value="'+a+'">'+a+'<span class="tag-remove">×</span></span>'),$("#item-tags-input").val("").focus())}i.init(),n.init(),$("body").on("user-sign-in",(function(){firebase.database().ref("/tags").on("value",(function(t){var a=t.val();n.generateTagFilterHTML(a),function(t){if(t){$(".appendable-tags").empty();var a="";for(var e in t)a+=`<span class="append-tag" data-value="${e}">${e}</span>`;$(".appendable-tags").html(a)}}(a),firebase.database().ref("/lists").on("value",(function(t){!function(t,a){if(t){$(".list-wrapper").empty();var e="",i="",s="",r="";for(var o in t){for(var d in i='<span class="item-name">'+o+"</span>",s='<span class="quantity">'+t[o].quantity+"</span>",r="",a){a[d][o]&&(r+=`<span class="list-item-tag" data-value="${d}">${d}</span>`)}e+=`<div class="list-item" data-enabled="${t[o].enabled}" data-name="${o}" >\n\t\t\t \t\t\t\t\t<label class="toggle-item"></label>\n\t\t\t\t\t\t\t\t<div class="item-details">\n\t\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t\t\t${s}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="list-item-tags">\n\t\t\t\t\t\t\t\t\t${r}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button type="button" class="remove-item" data-toggle="modal" data-target="#confirmation-modal">×</button>\n\t\t\t\t\t\t\t</div>`}$(".list-wrapper").html(e),n.filterResults()}}(t.val().grocery,a)}))}))})),$("body").on("click","#show-add-form",(function(t){t.preventDefault(),$("#add-item-modal").find('.modal-title, button[type="submit"]').text("Add Item"),$("form#add-item #item-name").removeAttr("readonly"),$("form#add-item .appendable-tags .append-tag").show(),$("form#add-item").trigger("reset"),$("#add-item-modal").modal("show")})),$("body").on("submit","form#add-item",(function(t){var a=i.parseUserData($(this).find("#item-name").val());$("#df").is(":checked")&&(a+=" (DF)");var e,n=[];$(".item-tags .tag").each((function(){e=""+$(this).data("value"),n.push(e),firebase.database().ref("/tags/"+e+"/"+a).set(!0)})),firebase.database().ref("/lists/grocery/"+a).set({quantity:$(this).find("#quantity").val(),enabled:"true"}),firebase.database().ref("/foods/"+a).set({brand:i.parseUserData($(this).find("#brand").val()),tags:n}),$("#add-item-modal").modal("hide"),t.preventDefault()})),$("body").on("keypress","form#add-item",(function(t){if(13==t.which&&$(t.target).is("#item-tags-input"))return s(),!1})),$("body").on("click",".remove-item-confirm",(function(t){t.stopPropagation();var a=$(this).data("item-name");firebase.database().ref("/lists/grocery/"+a).set(null),firebase.database().ref("/foods/"+a).set(null),firebase.database().ref("/tags").on("value",(function(t){var e=t.val();for(var i in e)firebase.database().ref("/tags/"+i+"/"+a).set(null)})),$("#confirmation-modal").modal("hide")})),$("body").on("click",".toggle-item",(function(t){t.stopPropagation();var a=$(this).parent(),e=a.data("name"),i=a.data("enabled");firebase.database().ref("/lists/grocery/"+e).update({"/enabled":(!i).toString()})})),$("body").on("click",".list-item",(function(t){if($(t.target).is(".list-item, .item-details, .item-name, .quantity")){var a=$(this).data("name"),e=$(this).find(".quantity").text();firebase.database().ref("/foods/"+a).once("value",(function(t){$("form#add-item").trigger("reset"),function(t,a,e){var i=a.endsWith(" (DF)");a=a.replace(" (DF)",""),$("#add-item-modal .modal-title").text("Edit "+a),$('#add-item-modal button[type="submit"]').text("Apply Edits");var n=$("form#add-item");for(var s in n.find("#item-name").val(a),n.find("#item-name").attr("readonly","true"),n.find("#brand").val(t.brand?t.brand:""),n.find("#quantity").val(e),t.tags){var r=t.tags[s];r&&0===n.find('.item-tags span[data-value="'+r+'"]').length&&n.find(".item-tags").append('<span class="tag" data-value="'+r+'">'+r+'<span class="tag-remove">×</span></span>'),$('.appendable-tags .append-tag[data-value="'+r+'"]').hide()}n.find("#df").val(i)}(t.val(),a,e),$("#add-item-modal").modal("show")}))}})),$(".add-tag-btn").on("click",(function(){s()})),$("body").on("click",".tag-remove",(function(){var t=$(this).parent().data("value");$(`.append-tag[data-value="${t}"]`).show(),$(this).parent().remove()})),$("body").on("click",".append-tag",(function(){s($(this).data("value")),$(this).hide()})),$("body").on("reset","form#add-item",(function(){$(".item-tags").html("")})),$("body").on("show.bs.modal","#confirmation-modal",(function(t){var a=$(t.relatedTarget).parent().data("name"),e=$(this);e.find(".modal-body p").text("Are you sure you want to remove "+a+" from the list?"),e.find(".btn-primary").data("item-name",a)}))},{"./login":2,"./search":3}],2:[function(t,a,e){"use strict";var i={showAccount:function(t){$("#sign-in").hide(),$(".account-image").attr("src",t.photoURL),$(".account-name").text(t.displayName),$(".account-email").text(t.email),$("#account-info").show(),$("body").addClass("logged-in")},parseUserData:function(t){var a=(t&&t.toString?t.toString():"").replace(/(^\w{1})|(\s{1}\w{1})/g,t=>t.toUpperCase());return a.trim?a.trim():a},init:function(){firebase.auth().onAuthStateChanged((function(t){t?(i.showAccount(t.providerData[0]),$("body").trigger("user-sign-in")):($("#account-info").hide(),$("#sign-in").show(),$("body").trigger("user-sign-out"))})),$("body").on("click","#sign-out",(function(){firebase.auth().signOut()})),$("body").on("click","#sign-in",(function(){var t=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(t).catch((function(t){var a=t.message;alert(a)}))}))}};a.exports=i},{}],3:[function(t,a,e){"use strict";function i(){var t=$(".search-field").val(),a=$(".tag-filters .tag-filter.active"),e=$(".list-item");t&&""!==t&&(e=e.filter(":icontains("+t+")")),a.each((function(){var t=$(this).data("value");e=e.filter((function(){return $(this).find(`.list-item-tag[data-value="${t}"]`).length>0}))})),$(".list-item").hide(),e.show()}var n={init:function(){$("body").on("click",".tag-filter",(function(){$(this).toggleClass("active"),i()})),$(".clear-all-filters").on("click",(function(){$(".tag-filters .tag-filter.active").removeClass("active"),$(".search-field").val(""),$(".list-item").show()})),$(".tag-filter-toggle").on("click",(function(){$(".tag-filters").slideToggle(),$(this).toggleClass("open")})),$(".search-field").on("input",(function(){i()}))},filterResults:i,generateTagFilterHTML:function(t){if(t){$(".tag-filters").empty();var a="";for(var e in t)a+=`<span class="tag-filter" data-value="${e}">${e}</span>`;$(".tag-filters").html(a)}}};a.exports=n},{}]},{},[1]);